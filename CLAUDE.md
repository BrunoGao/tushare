# LJWX-Stock æ™ºèƒ½è‚¡ç¥¨åˆ†æç³»ç»Ÿ

## é¡¹ç›®æ¦‚è¿°

ljwx-stock æ˜¯ä¸€ä¸ªåŸºäºAIå¤§æ¨¡å‹çš„æ™ºèƒ½è‚¡ç¥¨åˆ†æä¸æ¨èç³»ç»Ÿï¼Œæä¾›å®æ—¶æ•°æ®æ¨é€ã€ä¸“ä¸šæŠ€æœ¯åˆ†æã€AIæ™ºèƒ½é—®ç­”ç­‰åŠŸèƒ½ã€‚

## æ ¸å¿ƒåŠŸèƒ½

### ğŸ¤– AIæ™ºèƒ½åˆ†æ
- åŸºäºOllamaå¤§è¯­è¨€æ¨¡å‹çš„è‚¡ç¥¨åˆ†æ
- è‡ªç„¶è¯­è¨€é—®ç­”å¼è‚¡ç¥¨å’¨è¯¢
- æ™ºèƒ½æŠ•èµ„å»ºè®®å’Œé£é™©è¯„ä¼°
- 50,000+è®­ç»ƒæ ·æœ¬ï¼Œè¦†ç›–5,000+è‚¡ç¥¨

### ğŸ“Š æŠ€æœ¯åˆ†æå¼•æ“
- 30+ä¸“ä¸šæŠ€æœ¯æŒ‡æ ‡ï¼šMAã€MACDã€RSIã€KDJã€å¸ƒæ—å¸¦ã€ATRã€ADXç­‰
- æ™ºèƒ½ä¿¡å·ç”Ÿæˆï¼šä¹°å…¥/å–å‡º/æŒæœ‰ä¿¡å·
- Kçº¿å½¢æ€è¯†åˆ«ï¼šåå­—æ˜Ÿã€é”¤å­çº¿ã€åå™¬å½¢æ€
- æ”¯æ’‘é˜»åŠ›ä½è‡ªåŠ¨è®¡ç®—

### ğŸ”Œ å®æ—¶æ•°æ®ç³»ç»Ÿ
- WebSocketå®æ—¶æ¨é€è‚¡ä»·å’ŒæŠ€æœ¯æŒ‡æ ‡
- 10ç§’æ›´æ–°é¢‘ç‡ï¼Œè¶…é«˜é¢‘æ•°æ®æ¨é€
- æ™ºèƒ½ç¼“å­˜æœºåˆ¶ï¼Œçƒ­é—¨è‚¡ç¥¨é¢„åŠ è½½
- è‡ªåŠ¨é‡è¿ï¼Œä¿è¯æ•°æ®è¿ç»­æ€§

### ğŸ“ˆ å¤šç»´åº¦æ•°æ®ç®¡ç†
- åŸºæœ¬é¢ä¿¡æ¯ï¼šè‚¡ç¥¨åŸºæœ¬ä¿¡æ¯ã€è¡Œä¸šåˆ†ç±»ã€è´¢åŠ¡æ•°æ®
- èµ„é‡‘æµå‘ï¼šä¸ªè‚¡èµ„é‡‘æµã€é¾™è™æ¦œã€ä¸»åŠ›èµ„é‡‘ç›‘æ§
- å…¬å‘Šä¿¡æ¯ï¼šåˆ†çº¢é€è‚¡ã€è‚¡ç¥¨å›è´­ã€é‡è¦å…¬å‘Š
- å®è§‚æ•°æ®ï¼šæ²ªæ·±æ¸¯é€šã€èèµ„èåˆ¸ã€CPI/PPI/GDP

## ç³»ç»Ÿæ¶æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  WebSocketæœåŠ¡  â”‚    â”‚   æŠ€æœ¯åˆ†æå¼•æ“   â”‚    â”‚   AIåˆ†æå¼•æ“    â”‚
â”‚  å®æ—¶æ•°æ®æ¨é€    â”‚â—€â”€â”€â–¶â”‚   30+æŒ‡æ ‡è®¡ç®—   â”‚â—€â”€â”€â–¶â”‚   LLMæ™ºèƒ½åˆ†æ   â”‚
â”‚  è®¢é˜…ç®¡ç†       â”‚    â”‚   ä¿¡å·ç”Ÿæˆ      â”‚    â”‚   è‡ªç„¶è¯­è¨€ç†è§£   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚                       â”‚                       â”‚
         â–¼                       â–¼                       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   æ•°æ®åº“å±‚      â”‚    â”‚   Flask APIå±‚   â”‚    â”‚   å‰ç«¯å±•ç¤ºå±‚     â”‚
â”‚ ljwx_stock DB   â”‚â—€â”€â”€â–¶â”‚   RESTful API   â”‚â—€â”€â”€â–¶â”‚   ä¸“ä¸šWebç•Œé¢   â”‚
â”‚ MySQL + Redis   â”‚    â”‚   CORSæ”¯æŒ      â”‚    â”‚   å®æ—¶å›¾è¡¨      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## æŠ€æœ¯æ ˆ

### åç«¯æŠ€æœ¯
- **Python 3.12+**: ä¸»è¦å¼€å‘è¯­è¨€
- **Flask**: Webæ¡†æ¶å’ŒAPIæœåŠ¡
- **SQLAlchemy**: ORMæ•°æ®åº“æ“ä½œ
- **MySQL**: ä¸»æ•°æ®åº“å­˜å‚¨
- **Redis**: ç¼“å­˜å’Œä¼šè¯ç®¡ç†
- **WebSocket**: å®æ—¶æ•°æ®æ¨é€

### AIå’Œæœºå™¨å­¦ä¹ 
- **Ollama**: å¤§è¯­è¨€æ¨¡å‹é›†æˆ
- **TensorFlow**: æ·±åº¦å­¦ä¹ æ¡†æ¶
- **scikit-learn**: æœºå™¨å­¦ä¹ ç®—æ³•
- **TA-Lib**: æŠ€æœ¯æŒ‡æ ‡è®¡ç®—åº“
- **MLflow**: æ¨¡å‹ç®¡ç†å’Œå®éªŒè·Ÿè¸ª

### æ•°æ®æº
- **TuShare Pro**: ä¸»è¦è‚¡ç¥¨æ•°æ®API
- **å®æ—¶è¡Œæƒ…**: WebSocketæ¨é€
- **å†å²æ•°æ®**: 5å¹´å…¨å¸‚åœºæ•°æ®

### å‰ç«¯æŠ€æœ¯
- **HTML/CSS/JavaScript**: åŸºç¡€å‰ç«¯æŠ€æœ¯
- **ECharts**: ä¸“ä¸šè‚¡ç¥¨å›¾è¡¨åº“
- **Alpine.js**: è½»é‡çº§å‰ç«¯æ¡†æ¶
- **WebSocket Client**: å®æ—¶æ•°æ®æ¥æ”¶

## é¡¹ç›®ç»“æ„

```
ljwx-stock/
â”œâ”€â”€ ğŸš€ start_realtime_system.py    # ä¸€é”®å¯åŠ¨è„šæœ¬
â”œâ”€â”€ ğŸ“Š unified_app.py               # ç»Ÿä¸€åº”ç”¨å…¥å£
â”œâ”€â”€ âš™ï¸ config.py                   # ç³»ç»Ÿé…ç½®æ–‡ä»¶
â”œâ”€â”€ ğŸ¤– ai/                         # AIæ¨¡å‹æ¨¡å—
â”‚   â”œâ”€â”€ unified_trainer.py         # ç»Ÿä¸€è®­ç»ƒå™¨
â”‚   â”œâ”€â”€ model_evaluation.py        # æ¨¡å‹è¯„ä¼°
â”‚   â””â”€â”€ continuous_learning_system.py # æŒç»­å­¦ä¹ 
â”œâ”€â”€ ğŸ§  llm/                        # å¤§è¯­è¨€æ¨¡å‹
â”‚   â”œâ”€â”€ intelligent_recommender.py # æ™ºèƒ½æ¨è
â”‚   â”œâ”€â”€ stock_analyzer.py          # è‚¡ç¥¨åˆ†æå™¨
â”‚   â””â”€â”€ tushare_data_extractor.py  # æ•°æ®æå–
â”œâ”€â”€ ğŸ“Š analysis/                   # åˆ†ææ¨¡å—
â”‚   â”œâ”€â”€ recommender.py             # æ¨èåˆ†æ
â”‚   â””â”€â”€ technical_indicators.py    # æŠ€æœ¯æŒ‡æ ‡
â”œâ”€â”€ ğŸ¯ strategy/                   # ç­–ç•¥æ¨¡å—
â”‚   â”œâ”€â”€ strategy_engine.py         # ç­–ç•¥å¼•æ“
â”‚   â””â”€â”€ strategy_models.py         # ç­–ç•¥æ¨¡å‹
â”œâ”€â”€ ğŸ’¾ database/                   # æ•°æ®åº“æ¨¡å—
â”‚   â”œâ”€â”€ db_manager.py              # æ•°æ®åº“ç®¡ç†
â”‚   â”œâ”€â”€ database_system.py         # æ•°æ®åº“ç³»ç»Ÿ
â”‚   â””â”€â”€ task_scheduler.py          # ä»»åŠ¡è°ƒåº¦
â”œâ”€â”€ ğŸŒ api/                        # APIæ¥å£
â”‚   â”œâ”€â”€ app.py                     # Flask API
â”‚   â”œâ”€â”€ unified_api.py             # ç»Ÿä¸€API
â”‚   â””â”€â”€ websocket_server.py        # WebSocketæœåŠ¡
â”œâ”€â”€ ğŸ“ˆ frontend/                   # å‰ç«¯æ¨¡å—
â”‚   â”œâ”€â”€ realtime_dashboard.html    # å®æ—¶ç•Œé¢
â”‚   â””â”€â”€ chart_generator.py         # å›¾è¡¨ç”Ÿæˆ
â”œâ”€â”€ â° scheduler/                  # è°ƒåº¦æ¨¡å—
â”‚   â”œâ”€â”€ daily_tasks.py             # å®šæ—¶ä»»åŠ¡
â”‚   â””â”€â”€ auto_scheduler.py          # è‡ªåŠ¨è°ƒåº¦
â”œâ”€â”€ ğŸ”„ recommendation_backtest/    # æ¨èå›æµ‹
â”‚   â”œâ”€â”€ recommendation_tracker.py  # æ¨èè·Ÿè¸ª
â”‚   â””â”€â”€ model_recommender.py       # æ¨¡å‹æ¨èå™¨
â”œâ”€â”€ ğŸ› ï¸ utils/                      # å·¥å…·æ¨¡å—
â”œâ”€â”€ ğŸ“ templates/                  # å‰ç«¯æ¨¡æ¿
â”œâ”€â”€ ğŸ“Š static/                     # é™æ€èµ„æº
â”œâ”€â”€ ğŸ“š docs/                       # æ–‡æ¡£ç›®å½•
â””â”€â”€ ğŸ¯ harmonyos_client/           # HarmonyOSå®¢æˆ·ç«¯
```

## å¿«é€Ÿå¼€å§‹

### ç¯å¢ƒè¦æ±‚
- Python 3.12+
- MySQL 8.0+
- Redis (å¯é€‰)
- Apple Silicon M2 Ultra (æ¨èï¼Œå·²ä¼˜åŒ–)

### å®‰è£…éƒ¨ç½²
```bash
# 1. å…‹éš†é¡¹ç›®
git clone <repository-url>
cd tushare

# 2. åˆ›å»ºè™šæ‹Ÿç¯å¢ƒ
python3 -m venv venv
source venv/bin/activate  # Windows: venv\Scripts\activate

# 3. å®‰è£…ä¾èµ–
pip install -r requirements.txt

# 4. é…ç½®ç¯å¢ƒå˜é‡
cp env.example .env
# ç¼–è¾‘ .env æ–‡ä»¶ï¼Œé…ç½®æ•°æ®åº“å’ŒAPIå¯†é’¥

# 5. åˆå§‹åŒ–æ•°æ®åº“
python3 start_realtime_system.py init

# 6. å¯åŠ¨æœåŠ¡
python3 start_realtime_system.py
```

### é…ç½®è¯´æ˜
åœ¨ `config.py` ä¸­é…ç½®ä»¥ä¸‹å…³é”®å‚æ•°ï¼š

```python
# TuShareé…ç½®
TS_TOKEN = 'your_tushare_token'

# æ•°æ®åº“é…ç½®
DB_HOST = '127.0.0.1'
DB_PORT = 3306
DB_USER = 'root'
DB_PASSWORD = 'your_password'
DB_NAME = 'ljwx_stock'

# AIæ¨¡å‹é…ç½®
OPENAI_API_KEY = 'your_api_key'
OPENAI_BASE_URL = 'http://localhost:11434/v1'
LLM_MODEL = 'lingjingwanxiang:70b'
```

## ä¸»è¦å‘½ä»¤

### å¯åŠ¨æœåŠ¡
```bash
# å¯åŠ¨å®Œæ•´å®æ—¶ç³»ç»Ÿ
python3 start_realtime_system.py

# ä»…å¯åŠ¨APIæœåŠ¡
python3 api/app.py

# ä»…å¯åŠ¨WebSocketæœåŠ¡
python3 api/websocket_server.py
```

### æ•°æ®ç®¡ç†
```bash
# è·å–è‚¡ç¥¨åŸºæœ¬ä¿¡æ¯
python3 scripts/fetch_stock_basic.py

# è·å–å†å²æ•°æ®
python3 run.py fetch-10years

# å…¨ç»´åº¦æ•°æ®è·å–
python3 run.py fetch-comprehensive --mode full

# å¯åŠ¨å®šæ—¶è°ƒåº¦å™¨
python3 run.py scheduler --scheduler-cmd start
```

### AIæ¨¡å‹è®­ç»ƒ
```bash
# åˆ›å»ºåŸºç¡€æ¨¡å‹
python3 create_ljwx_stock_model.py

# è®­ç»ƒæ¨¡å‹
python3 train_ljwx_stock.py

# æŒç»­è®­ç»ƒ
python3 continuous_training.py

# ç»¼åˆè®­ç»ƒ
python3 comprehensive_training.py
```

### æµ‹è¯•å‘½ä»¤
```bash
# ç³»ç»Ÿé›†æˆæµ‹è¯•
python3 test_integration.py

# AIç³»ç»Ÿæµ‹è¯•
python3 test_ai_system.py

# æ€§èƒ½æµ‹è¯•
python3 test_m2_ultra_performance.py

# WebSocketè¿æ¥æµ‹è¯•
python3 test_websocket_connection.py
```

## APIæ¥å£

### REST API
- **åŸºç¡€æ¥å£**: `http://localhost:5005/api/`
- **æŠ€æœ¯åˆ†æ**: `/api/technical/indicators/{ts_code}`
- **å®æ—¶ä¿¡å·**: `/api/signals/realtime`
- **AIåˆ†æ**: `/api/llm/intelligent`
- **è‚¡ç¥¨æœç´¢**: `/api/stocks/search`

### WebSocket
- **è¿æ¥åœ°å€**: `ws://localhost:8765`
- **è®¢é˜…è‚¡ç¥¨**: `{"type": "subscribe", "stock_codes": ["000001.SZ"]}`
- **è·å–å®æ—¶æ•°æ®**: `{"type": "get_realtime", "ts_code": "000001.SZ"}`
- **AIæŸ¥è¯¢**: `{"type": "ai_query", "query": "åˆ†æ000001"}`

## æ€§èƒ½æŒ‡æ ‡

- **æ¨èå‘½ä¸­ç‡**: 65%+ (å†å²å¹³å‡)
- **æ•°æ®å¤„ç†**: 5000+è‚¡ç¥¨ï¼Œ1000ä¸‡+è®°å½•
- **APIå“åº”**: < 200ms
- **WebSocketæ›´æ–°**: 10ç§’é¢‘ç‡
- **ç³»ç»Ÿå¯ç”¨æ€§**: 99.5%+
- **è®­ç»ƒæ•°æ®**: 50,000+æ ·æœ¬

## å¼€å‘æŒ‡å—

### ä»£ç è§„èŒƒ
- éµå¾ªPEP 8 Pythonç¼–ç è§„èŒƒ
- ä½¿ç”¨ä¸­æ–‡æ³¨é‡Šï¼Œè¯¦ç»†è¯´æ˜åŠŸèƒ½
- æ·»åŠ ç±»å‹æç¤ºæé«˜ä»£ç å¯è¯»æ€§
- å®Œå–„çš„å¼‚å¸¸å¤„ç†å’Œæ—¥å¿—è®°å½•

### æµ‹è¯•è§„èŒƒ
- è¿è¡Œå®Œæ•´æµ‹è¯•å¥—ä»¶éªŒè¯åŠŸèƒ½
- æ–°åŠŸèƒ½å¿…é¡»åŒ…å«ç›¸åº”æµ‹è¯•ç”¨ä¾‹
- é›†æˆæµ‹è¯•ç¡®ä¿æ¨¡å—é—´åä½œæ­£å¸¸
- æ€§èƒ½æµ‹è¯•éªŒè¯ç³»ç»Ÿå“åº”èƒ½åŠ›

### éƒ¨ç½²æ³¨æ„äº‹é¡¹
- ç¡®ä¿MySQLå’ŒRedisæœåŠ¡æ­£å¸¸è¿è¡Œ
- é…ç½®æ­£ç¡®çš„TuShare Pro Token
- AIæ¨¡å‹æœåŠ¡(Ollama)éœ€è¦ç‹¬ç«‹éƒ¨ç½²
- ç”Ÿäº§ç¯å¢ƒå»ºè®®ä½¿ç”¨Gunicorn+Nginx

## æ•…éšœæ’é™¤

### å¸¸è§é—®é¢˜
1. **æ•°æ®åº“è¿æ¥å¤±è´¥**: æ£€æŸ¥MySQLæœåŠ¡çŠ¶æ€å’Œé…ç½®
2. **TuShare APIé™åˆ¶**: æ£€æŸ¥Tokenæœ‰æ•ˆæ€§å’Œè¯·æ±‚é¢‘ç‡
3. **WebSocketè¿æ¥æ–­å¼€**: æ£€æŸ¥ç½‘ç»œè¿æ¥å’Œé˜²ç«å¢™è®¾ç½®
4. **AIæ¨¡å‹å“åº”æ…¢**: æ£€æŸ¥OllamaæœåŠ¡çŠ¶æ€å’Œæ¨¡å‹åŠ è½½

### æ—¥å¿—æŸ¥çœ‹
```bash
# åº”ç”¨æ—¥å¿—
tail -f logs/api_server.log

# è®­ç»ƒæ—¥å¿—
tail -f logs/ai_training.log

# é”™è¯¯æ—¥å¿—
grep -i error logs/*.log
```

## è®¸å¯è¯

MIT License - è¯¦è§ [LICENSE](LICENSE) æ–‡ä»¶

## è´¡çŒ®æŒ‡å—

æ¬¢è¿æäº¤Pull Requestå’ŒIssueã€‚è¯·ç¡®ä¿ï¼š
1. ä»£ç ç¬¦åˆé¡¹ç›®è§„èŒƒ
2. åŒ…å«å¿…è¦çš„æµ‹è¯•ç”¨ä¾‹
3. æ›´æ–°ç›¸å…³æ–‡æ¡£
4. é€šè¿‡æ‰€æœ‰è‡ªåŠ¨åŒ–æµ‹è¯•

---

**âš ï¸ æŠ•èµ„é£é™©æç¤º**: 
æœ¬ç³»ç»Ÿæä¾›çš„è‚¡ç¥¨åˆ†æå’ŒæŠ•èµ„å»ºè®®ä»…ä¾›å‚è€ƒï¼Œä¸æ„æˆæŠ•èµ„å»ºè®®ã€‚æŠ•èµ„æœ‰é£é™©ï¼Œå†³ç­–éœ€è°¨æ…ã€‚ç”¨æˆ·åº”æ ¹æ®è‡ªèº«æƒ…å†µç‹¬ç«‹åˆ¤æ–­ï¼Œç³»ç»Ÿå¼€å‘è€…ä¸æ‰¿æ‹…ä»»ä½•æŠ•èµ„æŸå¤±è´£ä»»ã€‚

---

*æ–‡æ¡£ç‰ˆæœ¬: v2.0.0*  
*æœ€åæ›´æ–°: 2025-08-11*  
*ç»´æŠ¤å›¢é˜Ÿ: LJWXå¼€å‘å›¢é˜Ÿ*