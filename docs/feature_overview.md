# ljwx-stock AI股票推荐系统 - 功能概览

## 🎯 核心功能

### 1. 智能推荐引擎
- **多策略分析**: 综合分析、技术分析、风险评估三大策略
- **AI驱动**: 基于lingjingwanxiang:70b大语言模型
- **智能评分**: 100分制量化评估系统
- **多市场覆盖**: 沪深主板、创业板、科创板全覆盖

### 2. 实时数据系统
- **WebSocket推送**: 实时价格、指标、推荐更新
- **数据源集成**: TuShare Pro API高质量数据
- **技术指标**: 30+ 专业技术指标实时计算
- **市场监控**: 多维度市场信号实时追踪

### 3. 专业分析工具
- **技术分析**: RSI、MACD、均线系统等专业指标
- **基本面分析**: 财务数据、行业对比分析
- **风险评估**: 波动率、最大回撤、夏普比率
- **市场情绪**: 成交量、资金流向分析

### 4. 交互式界面
- **Web控制台**: 响应式设计，实时图表展示
- **移动应用**: HarmonyOS原生应用
- **策略筛选**: 按策略类型筛选推荐
- **Top排行**: Top5/Top10/Top20推荐排行

## 🚀 技术特性

### AI/ML 能力
- **大语言模型**: Ollama lingjingwanxiang:70b
- **智能推理**: 自然语言生成投资建议
- **策略多样化**: 多种分析策略轮换使用
- **持续学习**: 基于历史表现优化模型

### 数据处理
- **实时流处理**: 毫秒级数据更新
- **批量处理**: 支持大规模历史数据分析
- **数据清洗**: 自动数据质量检查与修复
- **缓存优化**: Redis多层缓存策略

### 系统架构
- **微服务化**: 模块化设计，独立部署
- **高可用**: 支持集群部署和负载均衡
- **容器化**: Docker支持，一键部署
- **跨平台**: Web + 移动端全平台覆盖

## 📊 推荐系统详解

### 策略类型

#### 综合分析策略 (comprehensive_analysis)
- **适用场景**: 全面投资决策
- **分析维度**: 技术面 + 基本面 + 市场情绪
- **推荐类型**: 买入/卖出/持有 + 目标价位
- **风险控制**: 综合风险评级

#### 技术分析策略 (technical_analysis)  
- **适用场景**: 短期交易决策
- **分析重点**: 技术指标信号
- **推荐依据**: RSI、MACD、均线排列
- **时间周期**: 1-30天

#### 风险评估策略 (risk_assessment)
- **适用场景**: 风险控制导向
- **分析重点**: 波动率、回撤、流动性
- **推荐建议**: 仓位配置建议
- **适合用户**: 稳健型投资者

### 评分系统

**技术指标 (30分)**
- RSI超卖反弹机会: +15分
- RSI合理区间: +10分  
- MACD金叉: +8分

**均线系统 (20分)**
- 多头排列: +20分
- 短期向上: +10分
- 空头排列: -10分

**成交量 (15分)**
- 适中放量: +15分
- 异常放量: +5分
- 成交萎缩: -5分

**波动率 (15分)**
- 适中波动(15-35%): +15分
- 过度波动(>50%): -10分

**价格合理性 (10分)**
- 合理区间(5-100元): +10分

**风险控制 (10分)**
- 低回撤(<10%): +10分
- 中等回撤(10-20%): +5分
- 高回撤(>30%): -5分

## 🔧 API接口

### REST API
```
GET  /api/recommendations/recent        # 获取最新推荐
GET  /api/recommendations/by_strategy   # 按策略筛选
GET  /api/recommendations/top           # Top排行榜
GET  /api/strategy/performance          # 策略性能
GET  /api/backtest/report              # 回测报告
```

### WebSocket API
```
ws://localhost:8765/realtime           # 实时数据流
- price_update: 价格更新
- recommendation: 新推荐生成  
- technical_signal: 技术信号
- market_alert: 市场预警
```

## 📱 客户端应用

### Web控制台
- **技术栈**: HTML5 + JavaScript + ECharts + TailwindCSS
- **功能**: 推荐管理、图表分析、策略对比
- **特性**: 响应式设计、实时更新、交互式图表

### HarmonyOS应用
- **开发语言**: ArkTS (TypeScript)
- **功能模块**: 
  - 主界面: 市场概览 + 推荐列表
  - 股票详情: 深度分析 + 历史表现
  - 自选股: 个人监控列表
  - 设置页: 个人偏好配置

### 移动端特性
- **离线缓存**: 本地数据存储
- **推送通知**: 重要推荐提醒
- **手势操作**: 直观的触控交互
- **数据同步**: 云端实时同步

## 🔄 数据流程

### 实时处理流程
1. **数据获取**: TuShare Pro API → 市场数据
2. **指标计算**: 30+技术指标 → 特征向量
3. **AI分析**: LLM推理 → 投资建议
4. **评分排序**: 智能评分 → Top推荐
5. **实时推送**: WebSocket → 客户端更新

### 历史回测流程
1. **数据准备**: 历史价格 + 财务数据
2. **信号生成**: 历史推荐信号重现
3. **性能计算**: 收益率、夏普比率、最大回撤
4. **策略对比**: 多策略表现评估
5. **结果展示**: 图表化回测报告

## 📈 性能指标

### 系统性能
- **响应时间**: API响应 < 200ms
- **并发支持**: 100+ 同时在线用户
- **数据处理**: 10000+ 股票实时分析
- **更新频率**: 秒级数据更新

### AI推荐性能
- **推荐生成**: 单只股票 < 10秒
- **批量推荐**: 10只股票 < 30秒
- **策略覆盖**: 3种策略轮换
- **准确率**: 基于历史回测优化

### 硬件优化
- **Apple M2 Ultra**: 原生ARM64优化
- **内存使用**: < 4GB 峰值内存
- **CPU利用**: 20核心并行处理
- **存储**: SSD优化数据库性能

## 🛠️ 部署运维

### 快速启动
```bash
# 完整系统启动
python3 start_realtime_system.py

# 初始化系统
python3 start_realtime_system.py init

# 健康检查
python3 run.py health-check
```

### 数据管理
```bash
# 历史数据获取 (10年)
python3 run.py fetch-10years

# 实时数据调度
python3 run.py scheduler --scheduler-cmd start

# AI模型训练
python3 comprehensive_training.py
```

### 监控指标
- **系统健康**: CPU、内存、磁盘使用率
- **API性能**: 请求量、响应时间、错误率
- **数据质量**: 数据完整性、更新及时性
- **AI性能**: 推荐生成速度、模型准确率

## 🔐 安全特性

### API安全
- **JWT认证**: 基于Token的用户认证
- **API限流**: 防止恶意请求攻击
- **CORS配置**: 跨域访问控制
- **HTTPS支持**: SSL加密传输

### 数据安全
- **敏感信息加密**: 配置文件加密存储
- **数据库安全**: 参数化查询防注入
- **访问控制**: 基于角色的权限管理
- **审计日志**: 操作记录追踪

## 🚀 未来规划

### 功能扩展
- [ ] 期货、期权推荐支持
- [ ] 港股、美股市场扩展  
- [ ] 量化策略回测平台
- [ ] 社交投资功能

### 技术升级
- [ ] 更大规模LLM模型集成
- [ ] 深度学习模型优化
- [ ] 知识图谱构建
- [ ] 多模态数据分析

### 平台扩展
- [ ] iOS应用开发
- [ ] 微信小程序
- [ ] API开放平台
- [ ] 第三方集成SDK

---

## 📞 技术支持

- **文档**: `/docs` 目录下完整技术文档
- **示例**: `/examples` 目录下使用示例
- **日志**: `/logs` 目录下系统日志
- **配置**: `unified_config.json` 统一配置文件

**系统要求**: Python 3.13+, MySQL 8.0+, Redis 6.0+, Ollama
**推荐硬件**: Apple M2 Ultra (24核, 192GB内存) 或同等性能